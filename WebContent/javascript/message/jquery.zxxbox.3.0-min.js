(function(c){var b='<style type="text/css">#zxxBlank{position:absolute;z-index:2000;left:0;top:0;width:100%;height:0;background:black;}.wrap_out{padding:5px;background:#eee;box-shadow:0 0 6px rgba(0,0,0,.5);-moz-box-shadow:0 0 6px rgba(0,0,0,0.5);-webkit-box-shadow:0 0 6px rgba(0,0,0,.5);position:absolute;z-index:2000;}.wrap_in{background:#fafafa;border:1px solid #ccc;}.wrap_bar{width:100%;background:#f7f7f7;border-top:3px solid #f9f9f9;border-bottom:4px solid #eee;margin-top:2px;}.wrap_title{line-height:5px;background:#f3f3f3;border-top:4px solid #f5f5f5;border-bottom:5px solid #f1f1f1;margin-top:3px;}.wrap_title span{position:relative;margin-left:10px;cursor:text;}.wrap_body{display:inline-block;border-top:1px solid #ddd;background:white;}.wrap_close{margin-top:-18px;margin-right:10px;color:#34538b;font-weight:bold;font-family:Tahoma;text-decoration:none;cursor:pointer;float:right;}.wrap_close:hover{text-decoration:none;color:#f30;}.wrap_remind{width:16em;padding:30px 40px;}.wrap_remind p{margin:10px 0 0;}.submit_btn{display:inline-block;padding:3px 12px 1.99px;background:#486aaa;border:1px solid;border-color:#a0b3d6 #34538b #34538b #a0b3d6;color:#f3f3f3;line-height:16px;cursor:pointer;overflow:visible;}.submit_btn:hover{text-decoration:none;color:#ffffff;}.cancel_btn{display:inline-block;padding:3px 12px 1.99px;background:#eee;border:1px solid;border-color:#f0f0f0 #bbb #bbb #f0f0f0;color:#333;line-height:16px;cursor:pointer;overflow:visible;}</style>';c("head").append(b);c.fn.zxxbox=function(d){return this.each(function(){var e=c.extend({},a,d||{});var f=this.nodeName.toLowerCase();if(f==="a"&&e.ajaxTagA){c(this).click(function(){var g=c.trim(c(this).attr("href"));if(g){if(g.indexOf("#")>=0){c.zxxbox(c(g),d)}else{if(/[\.jpg\.png\.gif\.bmp\.jpeg]$/i.test(g)){c.zxxbox.loading(d);var h=new Image(),i;h.onload=function(){var j=h.width,l=h.height;if(j>0){var k=c('<img src="'+g+'" width="'+j+'" height="'+l+'" />');c.zxxbox(k,d)}};h.onerror=function(){var j=c('<div class="wrap_remind">图片加载失败！</div>');c.zxxbox(j,d)};h.src=g}else{c.zxxbox.loading(d);c.get(g,{},function(j){c.zxxbox(j,d)})}}}return false})}else{c.zxxbox(c(this),d)}})};c.zxxbox=function(f,d){if(!f){return}var e=c.extend({},a,d||{});var g='<div id="zxxBlank" onselectstart="return false;"></div><div class="wrap_out" id="wrapOut"><div class="wrap_in" id="wrapIn"><div id="wrapBar" class="wrap_bar"  onselectstart="return false;"><div class="wrap_title"><span>'+e.title+'</span></div><a href="javasctipt:" class="wrap_close" id="wrapClose">'+e.shut+'</a></div><div class="wrap_body" id="wrapBody"></div></div></div>';if(c("#wrapOut").size()){c("#wrapOut").show();if(e.bg){c("#zxxBlank").show()}else{c("#zxxBlank").hide()}}else{c("body").append(g)}if(typeof(f)==="object"){f.show()}else{f=c(f)}c.o={s:e,ele:f,bg:c("#zxxBlank"),out:c("#wrapOut"),bar:c("#wrapBar"),clo:c("#wrapClose"),bd:c("#wrapBody")};c.o.bd.empty().append(f);if(c.isFunction(e.onshow)){e.onshow()}c.zxxbox.setSize();c.zxxbox.setPosition();if(e.fix){c.zxxbox.setFixed()}if(e.drag){c.zxxbox.drag()}else{c(window).resize(function(){c.zxxbox.setPosition()})}if(!e.bar){c.zxxbox.barHide()}else{c.zxxbox.barShow()}if(!e.bg){c.zxxbox.bgHide()}else{c.zxxbox.bgShow()}if(!e.btnclose){c.zxxbox.closeBtnHide()}else{c.o.clo.click(function(){c.zxxbox.hide();return false})}if(e.bgclose){c.zxxbox.bgClickable()}if(e.delay>0){setTimeout(c.zxxbox.hide,e.delay)}};c.extend(c.zxxbox,{getSize:function(f){var e={},d=f.clone();c('<div id="wrapClone" style="position:absolute;left:-6000px;"></div>').appendTo("body").append(d);e.w=c("#wrapClone").width();e.h=c("#wrapClone").height();c("#wrapClone").remove();return e},setSize:function(){if(!c.o.bd.size()||!c.o.ele.size()||!c.o.bd.size()){return}var e=parseInt(c.o.s.width,10),g=parseInt(c.o.s.height,10);if(!e||e<=0){var f=c.zxxbox.getSize(c.o.ele),d=c(window).width();e=f.w;if(e<50){e=120}else{if(e>d){e=d-120}}}c.o.bd.css("width",e);c.o.out.css("width",e+2);if(g>0){c.o.bd.css("height",g)}return c.o.bd},setPosition:function(i){i=i||false;if(!c.o.bg.size()||!c.o.ele.size()||!c.o.out.size()){return}var k=c(window).width(),f=c(window).height(),n=c(window).scrollTop(),g=c("body").height();if(g<f){g=f}c.o.bg.width(k).height(g).css("opacity",c.o.s.opacity);var j=c.o.out.outerHeight(),d=c.o.out.outerWidth();var m=n+(f-j)/2,e=(k-d)/2;if(c.o.s.fix&&window.XMLHttpRequest){m=(f-j)/2}if(i===true){c.o.out.animate({top:m,left:e})}else{c.o.out.css({top:m,left:e,zIndex:c.o.s.index})}return c.o.out},setFixed:function(){if(!c.o.out||!c.o.out.size()){return}if(window.XMLHttpRequest){c.zxxbox.setPosition().css({position:"fixed"})}else{c(window).scroll(function(){c.zxxbox.setPosition()})}return c.o.out},bgClickable:function(){if(c.o.bg&&c.o.bg.size()){c.o.bg.click(function(){c.zxxbox.hide()})}},bgHide:function(){if(c.o.bg&&c.o.bg.size()){c.o.bg.hide()}},bgShow:function(){if(c.o.bg&&c.o.bg.size()){c.o.bg.show()}else{c('<div id="zxxBlank"></div>').prependTo("body")}},barHide:function(){if(c.o.bar&&c.o.bar.size()){c.o.bar.hide()}},barShow:function(){if(c.o.bar&&c.o.bar.size()){c.o.bar.show()}},closeBtnHide:function(){if(c.o.clo&&c.o.clo.size()){c.o.clo.hide()}},hide:function(){if(c.o.ele&&c.o.out.size()&&c.o.bg.size()&&c.o.out.css("display")!=="none"){if(c.o.s.protect&&(!c.o.ele.hasClass("wrap_remind")||c.o.ele.attr("id"))){c.o.ele.clone().hide().appendTo(c("body"))}c.o.out.fadeOut("fast",function(){c(this).remove();if(c.isFunction(c.o.s.onclose)){c.o.s.onclose()}});c.o.bg.fadeOut("fast",function(){c(this).remove()})}return false},drag:function(){if(!c.o.out.size()||!c.o.bar.size()){c(document).unbind("mouseover").unbind("mouseup");return}var h=c.o.bar,f=c.o.out;var g=false;var e=0,d=0,j=f.css("left"),i=f.css("top");h.mousedown(function(k){g=true;e=k.pageX;d=k.pageY}).css("cursor","move");c(document).mousemove(function(o){if(g){var l=o.pageX,k=o.pageY;var n=l-e,m=k-d;f.css("left",parseInt(j)+n).css("top",parseInt(i)+m)}});c(document).mouseup(function(){g=false;j=f.css("left");i=f.css("top")})},loading:function(d){var e=c('<div class="wrap_remind">加载中...</div>');d=d||{};var f=c.extend({},d,{bar:false});c.zxxbox(e,f)},ask:function(h,f,d,e){var g=c('<div class="wrap_remind">'+h+'<p><button id="zxxSureBtn" class="submit_btn">确认</button>&nbsp;&nbsp;<button id="zxxCancelBtn" class="cancel_btn">取消</button></p></div>');c.zxxbox(g,e);c("#zxxSureBtn").click(function(){if(c.isFunction(f)){f.call(this)}});c("#zxxCancelBtn").click(function(){if(d&&c.isFunction(d)){d.call(this)}c.zxxbox.hide()})},remind:function(f,g,d){var e=c('<div class="wrap_remind">'+f+'<p><button id="zxxSubmitBtn" class="submit_btn">确认</button</p></div>');c.zxxbox(e,d);c("#zxxSubmitBtn").click(function(){if(g&&c.isFunction(g)){g.call(this)}c.zxxbox.hide()})},ajax:function(e,f,d){if(!f||typeof(f)!=="object"){f={}}if(e){c.zxxbox.loading(d);c.get(e,f,function(j){var g=/<script>.*<\/script>/g;var h=j.replace(g,""),i=j.match(g)||[];c.zxxbox(h,d);c.each(i,function(k,l){c("head").append(c(l))})})}}});var a={title:"对话框",shut:"×",index:2000,opacity:0.5,width:"auto",height:"auto",bar:true,bg:true,btnclose:true,fix:false,bgclose:false,drag:false,ajaxTagA:true,protect:"auto",onshow:c.noop,onclose:c.noop,delay:0}})(jQuery);